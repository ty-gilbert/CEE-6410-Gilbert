GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      CEE 6410 - Water Resources Systems Analysis
      Example 2.1 from Bishop Et Al Text (https://digitalcommons.usu.edu/ecstatic_all/76/)
      Modifies Example to fit problem 2.3
       
      Further modification for irrigation problem ( with June, July, Aug, and total acre constraints)
       
      THE PROBLEM:
       
      An irrigated farm can be planted in two crops:  hay and grain.
      Each month has a water requirement for each crop and an available amount of water in acft.
      Additionaly the total acres must not exceed 10,
      Data are as fol-lows:
       
       
      Inputs or Profit        Crops        Months
      Availability
                      Hay             Grain
      June            2 acft/acre     1 acft/acre     14,000 acft
      July            1 acft/acre     2 acft/acre     18,000 acft
      Aug             1 acft/acre     0 acft/acre      6,000 acft
      Total acres     1 acft/acre     1 acft/acre     10,000 acre
      Profit/acre     $100/acre       $120/acre
       
                      Determine the optimal planting for the two crops.
       
      THE SOLUTION:
      Uses General Algebraic Modeling System to Solve this Linear Program
       
      Ty Gilbert
      A02298741@usu.edu
      September 24, 2025
  34   
  35  * 1. DEFINE the SETS
  36  SETS crops crops produced /hay, grain/
  37       month months and other acreage constraint /June, July, Aug, tot/;
  38   
  39  * 2. DEFINE input data
  40  PARAMETERS
  41     c(crops) Objective function coefficients ($ per acre of crop)
  42           /hay 100,
  43           grain 120/
  44     b(month) Righthand constraint values for crop production (per month)
  45            /June 14000,
  46             July 18000,
  47             Aug  6000
  48             tot  10000/;
  49   
  50  TABLE A(crops, month) Left hand side constraint coefficients
  51              June    July    Aug     Tot
  52   Hay        2       1       1       1
  53   Grain      1       2       0       1;
  54   
  55   
  56  * 3. DEFINE the variables
  57  VARIABLES X(crops) crops produced (acres)
  58            VPROFIT  total profit from producing crops($)
  59            Y(month) value of ac-ft or acres depending on variable
  60            VREDCOST total reduced cost ($);
  61   
  62  * Non-negativity constraints
  63  POSITIVE VARIABLES X,Y;
  64   
  65  * 4. COMBINE variables and data in equations
  66  EQUATIONS
  67     PROFIT_PRIMAL Total profit ($) and objective function value
  68     MONTH_CONS_PRIMAL(month) Monthly Constraints
  69     REDCOST_DUAL Reduced Cost ($) associated with ???
  70     MONTH_CONS_DUAL(crops) Profit levels;
  71   
  72  *primal equations
  73  PROFIT_PRIMAL..                 VPROFIT =E= SUM(crops, c(crops)*X(crops));
  74  MONTH_CONS_PRIMAL(month) ..    SUM(crops, A(crops, month)*X(crops)) =L= b(month);
  75   
  76  *dual equations
  77  REDCOST_DUAL..                  VREDCOST =E= SUM(month,b(month)*Y(month));
  78  MONTH_CONS_DUAL(crops)..        sum(month,A(crops,month)*Y(month)) =G= c(crops);
  79   
  80  * 5. DEFINE the MODEL from the EQUATIONS
  81  *PRIMAL model
  82  MODEL CROPS_PRIMAL /PROFIT_PRIMAL, MONTH_CONS_PRIMAL/;
  83  *Set the options file to print out range of basis information
  84  CROPS_PRIMAL.optfile = 1;
  85   
  86  *DUAL model
  87  MODEL CROPS_DUAL /REDCOST_DUAL, MONTH_CONS_DUAL/;
  88   
  89  * 6. SOLVE the MODEL
  90  * Solve the CROPS_PRIMAL model using a Linear Programming Solver (see File=>Options=>Solvers)
  91  *     to maximize VPROFIT
  92  SOLVE CROPS_PRIMAL USING LP MAXIMIZING VPROFIT;
  93   
  94  * Solve the CROPS_DUAL model using a Linear Programming Solver (see File=>Options=>Solvers)
  95  *     to minimize VREDCOST
  96  SOLVE CROPS_DUAL USING LP MINIMIZING VREDCOST;
  97   
  98   
  99  * 6. CLick File menu => RUN (F9) or Solve icon and examine solution report in .LST file
 100   
 101  * 7 . Dump all data and results to GAMS proprietary file storage .gdx and to Excel
 102  Execute_Unload "HW6-Dual.gdx";
 103  * Dump the gdx file to an Excel workbook
 104  Execute "gdx2xls HW6-Dual.gdx"
 105  * To open the GDX file in the GAMS IDE, select File => Open.
 106  * In the Open window, set Filetype to .gdx and select the file.


COMPILATION TIME     =        0.016 SECONDS      3 MB  51.1.0 2d039df5 WEX-WEI
GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE CROPS_PRIMAL Using LP From line 92


---- PROFIT_PRIMAL  =E=  Total profit ($) and objective function value

PROFIT_PRIMAL..  - 100*X(hay) - 120*X(grain) + VPROFIT =E= 0 ; (LHS = 0)
     

---- MONTH_CONS_PRIMAL  =L=  Monthly Constraints

MONTH_CONS_PRIMAL(June)..  2*X(hay) + X(grain) =L= 14000 ; (LHS = 0)
     
MONTH_CONS_PRIMAL(July)..  X(hay) + 2*X(grain) =L= 18000 ; (LHS = 0)
     
MONTH_CONS_PRIMAL(Aug)..  X(hay) =L= 6000 ; (LHS = 0)
     
REMAINING ENTRY SKIPPED

GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 3
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE CROPS_PRIMAL Using LP From line 92


---- X  crops produced (acres)

X(hay)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -100       PROFIT_PRIMAL
        2       MONTH_CONS_PRIMAL(June)
        1       MONTH_CONS_PRIMAL(July)
        1       MONTH_CONS_PRIMAL(Aug)
        1       MONTH_CONS_PRIMAL(tot)

X(grain)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
     -120       PROFIT_PRIMAL
        1       MONTH_CONS_PRIMAL(June)
        2       MONTH_CONS_PRIMAL(July)
        1       MONTH_CONS_PRIMAL(tot)


---- VPROFIT  total profit from producing crops($)

VPROFIT
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       PROFIT_PRIMAL

GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 4
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Range Statistics    SOLVE CROPS_PRIMAL Using LP From line 92


RANGE STATISTICS (ABSOLUTE NON-ZERO FINITE VALUES)

RHS       [min, max] : [ 6.000E+03, 1.800E+04] - Zero values observed as well
Bound     [min, max] : [        NA,        NA] - Zero values observed as well
Matrix    [min, max] : [ 1.000E+00, 1.200E+02]

GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 5
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE CROPS_PRIMAL Using LP From line 92


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS            5
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            3
NON ZERO ELEMENTS            10


GENERATION TIME      =        0.218 SECONDS      4 MB  51.1.0 2d039df5 WEX-WEI
GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 6
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE CROPS_PRIMAL Using LP From line 92


               S O L V E      S U M M A R Y

     MODEL   CROPS_PRIMAL        OBJECTIVE  VPROFIT
     TYPE    LP                  DIRECTION  MAXIMIZE
     SOLVER  CPLEX               FROM LINE  92

**** SOLVER STATUS     1 Normal Completion
**** MODEL STATUS      1 Optimal
**** OBJECTIVE VALUE          1160000.0000

 RESOURCE USAGE, LIMIT          0.032 10000000000.000
 ITERATION COUNT, LIMIT         3    2147483647
*** This solver runs with a community license.

Reading parameter(s) from "C:\Users\Skool\OneDrive - USU\2025 Fall\6410 - System Analysis\gms files\cplex.opt"
>>  objrng all
>>  rhsrng all
>> 
Finished reading from "C:\Users\Skool\OneDrive - USU\2025 Fall\6410 - System Analysis\gms files\cplex.opt"

--- GMO setup time: 0.00s
--- GMO memory 0.50 Mb (peak 0.50 Mb)
--- Dictionary memory 0.00 Mb
--- Cplex 22.1.2.0 link memory 0.00 Mb (peak 0.00 Mb)
--- Starting Cplex


--- LP status (1): optimal.
--- Cplex Time: 0.03sec (det. 0.01 ticks)

--- Start ranging / sensitivity analysis...
--- Right-hand-side ranging...

EQUATION NAME                            LOWER           CURRENT             UPPER
-------------                            -----           -------             -----
PROFIT_PRIMAL                             -INF                NA              +INF   =C
MONTH_CONS_PRIMAL(June)                  12000             14000              +INF   =C
MONTH_CONS_PRIMAL(July)                  16000             18000             20000   =C
MONTH_CONS_PRIMAL(Aug)                    2000              6000              +INF   =C
MONTH_CONS_PRIMAL(tot)                    9000             10000           10666.7   =C

--- Objective ranging...

VARIABLE NAME                            LOWER           CURRENT             UPPER
-------------                            -----           -------             -----
X(hay)                                      60               100               120   =C
X(grain)                                   100               120               200   =C
VPROFIT                                   -INF                NA              +INF   =C


Optimal solution found
Objective:      1160000.000000


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU PROFIT_PR~          .              .              .             1.0000      

  PROFIT_PRIMAL  Total profit ($) and objective function value

---- EQU MONTH_CONS_PRIMAL  Monthly Constraints

            LOWER          LEVEL          UPPER         MARGINAL

June        -INF        12000.0000     14000.0000          .          
July        -INF        18000.0000     18000.0000        20.0000      
Aug         -INF         2000.0000      6000.0000          .          
tot         -INF        10000.0000     10000.0000        80.0000      

---- VAR X  crops produced (acres)

             LOWER          LEVEL          UPPER         MARGINAL

hay            .          2000.0000        +INF             .          
grain          .          8000.0000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR VPROFIT           -INF      1160000.0000        +INF             .          

  VPROFIT  total profit from producing crops($)


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 7
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Equation Listing    SOLVE CROPS_DUAL Using LP From line 96


---- REDCOST_DUAL  =E=  Reduced Cost ($) associated with ???

REDCOST_DUAL..  - 14000*Y(June) - 18000*Y(July) - 6000*Y(Aug) - 10000*Y(tot) + VREDCOST =E= 0 ; (LHS = 0)
     

---- MONTH_CONS_DUAL  =G=  Profit levels

MONTH_CONS_DUAL(hay)..  2*Y(June) + Y(July) + Y(Aug) + Y(tot) =G= 100 ; (LHS = 0, INFES = 100 ****)
     
MONTH_CONS_DUAL(grain)..  Y(June) + 2*Y(July) + Y(tot) =G= 120 ; (LHS = 0, INFES = 120 ****)
     
GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 8
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Column Listing      SOLVE CROPS_DUAL Using LP From line 96


---- Y  value of ac-ft or acres depending on variable

Y(June)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
   -14000       REDCOST_DUAL
        2       MONTH_CONS_DUAL(hay)
        1       MONTH_CONS_DUAL(grain)

Y(July)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
   -18000       REDCOST_DUAL
        1       MONTH_CONS_DUAL(hay)
        2       MONTH_CONS_DUAL(grain)

Y(Aug)
                (.LO, .L, .UP, .M = 0, 0, +INF, 0)
    -6000       REDCOST_DUAL
        1       MONTH_CONS_DUAL(hay)

REMAINING ENTRY SKIPPED

---- VREDCOST  total reduced cost ($)

VREDCOST
                (.LO, .L, .UP, .M = -INF, 0, +INF, 0)
        1       REDCOST_DUAL

GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 9
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Range Statistics    SOLVE CROPS_DUAL Using LP From line 96


RANGE STATISTICS (ABSOLUTE NON-ZERO FINITE VALUES)

RHS       [min, max] : [ 1.000E+02, 1.200E+02] - Zero values observed as well
Bound     [min, max] : [        NA,        NA] - Zero values observed as well
Matrix    [min, max] : [ 1.000E+00, 1.800E+04]

GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 10
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Model Statistics    SOLVE CROPS_DUAL Using LP From line 96


MODEL STATISTICS

BLOCKS OF EQUATIONS           2     SINGLE EQUATIONS            3
BLOCKS OF VARIABLES           2     SINGLE VARIABLES            5
NON ZERO ELEMENTS            12


GENERATION TIME      =        0.000 SECONDS      4 MB  51.1.0 2d039df5 WEX-WEI
GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 11
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Solution Report     SOLVE CROPS_DUAL Using LP From line 96


               S O L V E      S U M M A R Y

     MODEL   CROPS_DUAL          OBJECTIVE  VREDCOST
     TYPE    LP                  DIRECTION  MINIMIZE
     SOLVER  CPLEX               FROM LINE  96

**** SOLVER STATUS     1 Normal Completion
**** MODEL STATUS      1 Optimal
**** OBJECTIVE VALUE          1160000.0000

 RESOURCE USAGE, LIMIT          0.000 10000000000.000
 ITERATION COUNT, LIMIT         2    2147483647
*** This solver runs with a community license.
--- GMO setup time: 0.00s
--- GMO memory 0.50 Mb (peak 0.50 Mb)
--- Dictionary memory 0.00 Mb
--- Cplex 22.1.2.0 link memory 0.00 Mb (peak 0.00 Mb)
--- Starting Cplex


--- LP status (1): optimal.
--- Cplex Time: 0.00sec (det. 0.00 ticks)


Optimal solution found
Objective:      1160000.000000


                           LOWER          LEVEL          UPPER         MARGINAL

---- EQU REDCOST_D~          .              .              .             1.0000      

  REDCOST_DUAL  Reduced Cost ($) associated with ???

---- EQU MONTH_CONS_DUAL  Profit levels

             LOWER          LEVEL          UPPER         MARGINAL

hay         100.0000       100.0000        +INF         2000.0000      
grain       120.0000       120.0000        +INF         8000.0000      

---- VAR Y  value of ac-ft or acres depending on variable

            LOWER          LEVEL          UPPER         MARGINAL

June          .              .            +INF         2000.0000      
July          .            20.0000        +INF             .          
Aug           .              .            +INF         4000.0000      
tot           .            80.0000        +INF             .          

                           LOWER          LEVEL          UPPER         MARGINAL

---- VAR VREDCOST          -INF      1160000.0000        +INF             .          

  VREDCOST  total reduced cost ($)


**** REPORT SUMMARY :        0     NONOPT
                             0 INFEASIBLE
                             0  UNBOUNDED
GAMS 51.1.0  2d039df5 Sep 13, 2025          WEX-WEI x86 64bit/MS Windows - 10/18/25 14:15:12 Page 12
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


EXECUTION TIME       =       10.265 SECONDS      4 MB  51.1.0 2d039df5 WEX-WEI


USER: Course License                                 G250902+0003Ac-GEN
      Utah State University                                     DCE4709
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\Skool\OneDrive - USU\2025 Fall\6410 - System Analysis\gms files\HW6-Dual_irrigation.gms
Output     C:\Users\Skool\OneDrive - USU\2025 Fall\6410 - System Analysis\gms files\HW6-Dual_irrigation.lst
